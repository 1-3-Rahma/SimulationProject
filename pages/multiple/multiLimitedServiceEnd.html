<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiple Server - Limited Service End</title>
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/mathematical.css">
    <link rel="stylesheet" href="../../css/simulation.css">
</head>
<body>
    <div class="container">
        <button class="btn back-btn" onclick="window.location.href='../home.html'">← Back to Main Menu</button>
        
        <h1>Multiple Server Simulation - Limited Service End</h1>

        <div class="info-box">
            <strong>Instructions:</strong> Enter the number of rows for each table, then fill in the time/probability data. The system will automatically calculate cumulative probabilities and random digit assignments.
        </div>

        <div class="main-content-wrapper">
            <div class="main-content">

        <div class="form-container">
            <h2>Table Configuration</h2>
            <div class="input-group count-input-group">
                <label>Number of Rows (Customer Table): *</label>
                <input type="number" id="customerRows" placeholder="e.g., 4" value="4" min="1" required>
            </div>
            <div class="input-group count-input-group">
                <label>Number of Rows (Server 1 Table): *</label>
                <input type="number" id="server1Rows" placeholder="e.g., 4" value="4" min="1" required>
            </div>
            <div class="input-group count-input-group">
                <label>Number of Rows (Server 2 Table): *</label>
                <input type="number" id="server2Rows" placeholder="e.g., 4" value="4" min="1" required>
            </div>
            <button class="btn" onclick="createTables()">Create Tables</button>
        </div>

        <!-- Customer Table -->
        <div id="customerTableContainer" class="table-container hidden">
            <h2>Customer Table - Time Between Arrivals</h2>
            <table id="customerTable" class="simulation-table">
                <thead>
                    <tr>
                        <th>Time Between Arrivals (minutes)</th>
                        <th>Probability</th>
                        <th>Cumulative Probability</th>
                        <th>Random-Digits Assignment</th>
                    </tr>
                </thead>
                <tbody id="customerTableBody"></tbody>
            </table>
            <button class="btn small" onclick="calculateCustomerTable()">Calculate</button>
        </div>

        <!-- Server 1 Table -->
        <div id="server1TableContainer" class="table-container hidden">
            <h2>Server 1 Table - Service Time</h2>
            <table id="server1Table" class="simulation-table">
                <thead>
                    <tr>
                        <th>Service Time (minutes)</th>
                        <th>Probability</th>
                        <th>Cumulative Probability</th>
                        <th>Random-Digits Assignment</th>
                    </tr>
                </thead>
                <tbody id="server1TableBody"></tbody>
            </table>
            <button class="btn small" onclick="calculateServer1Table()">Calculate</button>
        </div>

        <!-- Server 2 Table -->
        <div id="server2TableContainer" class="table-container hidden">
            <h2>Server 2 Table - Service Time</h2>
            <table id="server2Table" class="simulation-table">
                <thead>
                    <tr>
                        <th>Service Time (minutes)</th>
                        <th>Probability</th>
                        <th>Cumulative Probability</th>
                        <th>Random-Digits Assignment</th>
                    </tr>
                </thead>
                <tbody id="server2TableBody"></tbody>
            </table>
            <button class="btn small" onclick="calculateServer2Table()">Calculate</button>
        </div>

        <!-- Simulation Limit -->
        <div class="form-container" style="margin-top: 30px;">
            <h2>Simulation Limit</h2>
            <div class="input-group count-input-group">
                <label>Stop Simulation When Reached (Limit Number): *</label>
                <input type="number" id="simulationLimit" placeholder="e.g., 10" value="" min="1" required>
                <small>Enter the number that will stop the simulation when reached (e.g., number of customers, time limit, etc.)</small>
            </div>
        </div>

        <div class="button-group" style="margin-top: 30px;">
            <button class="btn start-btn" onclick="startSimulation()">Start Simulation</button>
        </div>
            </div>

            <!-- Random Number Input Sidebar -->
            <div id="randomInputSidebar" class="random-input-sidebar hidden">
                <!-- LCG Inputs -->
                <div id="lcgInputs" class="hidden">
                    <h3>LCG Parameters</h3>
                    <div class="input-group">
                        <label>Multiplier (a):</label>
                        <input type="number" id="lcg_a" placeholder="e.g., 1664525" value="1664525">
                    </div>
                    <div class="input-group">
                        <label>Increment (c):</label>
                        <input type="number" id="lcg_c" placeholder="e.g., 1013904223" value="1013904223">
                    </div>
                    <div class="input-group">
                        <label>Modulus (m):</label>
                        <input type="number" id="lcg_m" placeholder="e.g., 4294967296" value="4294967296">
                    </div>
                    <div class="input-group">
                        <label>Initial Value (Z₀):</label>
                        <input type="number" id="lcg_initial" placeholder="e.g., 12345" value="12345">
                    </div>
                </div>

                <!-- Mid-Square Inputs -->
                <div id="midSquareInputs" class="hidden">
                    <h3>Mid-Square Parameters</h3>
                    <div class="input-group">
                        <label>Seed (4-digit, 1000-9999):</label>
                        <input type="number" id="midsquare_seed" placeholder="e.g., 1234" value="1234" min="1000" max="9999">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../../js/simulation.js"></script>
    <script src="../../js/multipleServer/multiLimitedServiceEndLimit.js"></script>
</body>
</html>

